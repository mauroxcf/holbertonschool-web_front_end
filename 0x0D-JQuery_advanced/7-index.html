<!DOCTYPE html>
<html lang="en" dir="ltr">
  <script
    src="https://code.jquery.com/jquery-3.6.0.slim.min.js"
    integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI="
    crossorigin="anonymous"></script>
  <head>

    <meta charset="utf-8" />
    <title>Task 6</title>

  </head>

  <body>
    <script type="application/javascript">
      function createFamilyTree() {
          $("body").append("<table></table>");
          $("table").append("<thead></thead>");
          $("table").append("<tbody></tbody>");

          $("thead").append("<tr></tr>");
          $("thead > tr").append("<th></th>", "<th></th>");
          $("tr > th:first-child").append("Firstname");
          $("tr > th:last-child").append("Lastname");
      }

      function addNewMember(firstName, lastName) {
          let row = $("<tr></tr>");
          let x = $("<td>(x)</td>");

          x.css({
              "background-color": "orange",
              "cursor": "pointer"
          });
          x.click(function () {
              $(row).remove()
          });

          row.append("<td>" + firstName + "</td>");
          row.append("<td>" + lastName + "</td>");
          row.append(x);
          $("tbody").append(row);
      }

      function createForm() {
          let selectButton = $("<select></select>");
          let submitButton = $("<input type='submit'>");

          selectButton.append(
              "<option value='before'>Before</option>",
              "<option value='after'>After</option>"
          );

          submitButton.click(function () {
              let v1 = $("input").first().val();
              let v2 = $("input:nth-of-type(2)").val();
              let v3 = selectButton.val();

              addNewMember(v1, v2, v3);
          });

          $("table").before("<input type='text'>", "<input type='text'>", selectButton, submitButton);
      }

      createFamilyTree();
      createForm();
    </script>
  </body>

</html>
